<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ä»»åŠ¡ä¸»é¡µ - TaskConductor</title>
  <style>
    body { font-family: sans-serif; background: #f2f2f2; padding: 30px; }
    h1 { text-align: center; }
    .task-box {
      background: white;
      padding: 15px;
      margin: 10px auto;
      max-width: 600px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .task-time { font-size: 14px; color: #555; }
    .task-name { font-size: 18px; margin-top: 5px; }
    .nav-buttons {
      text-align: center;
      margin-top: 20px;
    }
    .nav-buttons a, .nav-buttons button {
      margin: 10px;
      padding: 10px 18px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      background: #2196f3;
      color: white;
      text-decoration: none;
      cursor: pointer;
    }
    .nav-buttons button:hover, .nav-buttons a:hover {
      background: #1976d2;
    }
  </style>
</head>
<body>

<h1>ğŸ“‹ TaskConductor ä»Šæ—¥ä»»åŠ¡é¢æ¿</h1>

<div class="nav-buttons">
  <a href="/now">â±ï¸ å®æ—¶æ‰§è¡Œ</a>
  <a href="/summary">ğŸ“Š ç»Ÿè®¡åˆ†æ</a>
  <a href="/tasks">ğŸ¯ ä»»åŠ¡ç®¡ç†</a>
  <button onclick="generate()">ğŸ”„ é‡æ–°ç”Ÿæˆä»»åŠ¡</button>
</div>

{% if today_plan %}
  {% for t in today_plan %}
    <div class="task-box">
      <div class="task-time">ğŸ•’ {{ t.start_time[11:16] }} - {{ t.end_time[11:16] }}</div>
      <div class="task-name">ğŸ¯ {{ t.task }}</div>
    </div>
  {% endfor %}
{% else %}
  <p style="text-align:center;">âš ï¸ æš‚æ— ä»Šæ—¥ä»»åŠ¡ï¼Œè¯·ç‚¹å‡»ç”Ÿæˆã€‚</p>
{% endif %}

<script>
function generate() {
  fetch("/generate", { method: "POST" })
    .then(res => res.json())
    .then(data => {
      alert("âœ… ä»Šæ—¥ä»»åŠ¡å·²ç”Ÿæˆï¼");
      location.reload();
    }).catch(err => {
      alert("âŒ å‡ºé”™ï¼š" + err);
    });
}
</script>

</body>
</html>
